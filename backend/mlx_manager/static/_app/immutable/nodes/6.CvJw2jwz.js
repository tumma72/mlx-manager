import{f as v,a as o,c as _}from"../chunks/vfPE-AD7.js";import{p as A,o as B,c as D,d as m,s as d,g as t,u as G,f as H,e as x,r as h,i as b,t as J}from"../chunks/DhUiKsxN.js";import{s as K}from"../chunks/Dsv8gxIT.js";import{i as c,s as N,a as O}from"../chunks/DUil1G3I.js";import{g as y}from"../chunks/DdZy-IqV.js";import{p as Q}from"../chunks/Blzas3lH.js";import{p as R}from"../chunks/CkjAMN-G.js";import{p as T}from"../chunks/C_JzOHr5.js";import{P as U}from"../chunks/7YnkdxGv.js";import"../chunks/BXw2ESc5.js";var V=v('<div class="text-center py-12 text-muted-foreground">Loading profile...</div>'),W=v('<div class="text-center py-12 text-red-500"> </div>'),X=v('<div class="max-w-2xl mx-auto"><h1 class="text-2xl font-bold mb-6">Edit Server Profile</h1> <!></div>');function fe(S,w){A(w,!0);const P=()=>O(Q,"$page",C),[C,E]=N();let i=d(null),u=d(!0),l=d(null);const g=G(()=>parseInt(P().params.id??"0",10));B(async()=>{try{m(i,await R.get(t(g)),!0)}catch(e){m(l,e instanceof Error?e.message:"Failed to load profile",!0)}finally{m(u,!1)}});async function F(e){await T.update(t(g),e),y("/profiles")}function I(){y("/profiles")}var f=X(),$=H(x(f),2);{var k=e=>{var s=V();o(e,s)},L=e=>{var s=_(),M=b(s);{var j=a=>{var r=W(),p=x(r,!0);h(r),J(()=>K(p,t(l))),o(a,r)},q=a=>{var r=_(),p=b(r);{var z=n=>{U(n,{get profile(){return t(i)},onSubmit:F,onCancel:I})};c(p,n=>{t(i)&&n(z)},!0)}o(a,r)};c(M,a=>{t(l)?a(j):a(q,!1)},!0)}o(e,s)};c($,e=>{t(u)?e(k):e(L,!1)})}h(f),o(S,f),D(),E()}export{fe as component};
