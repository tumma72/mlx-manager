import{f as c,a as o,c as _}from"../chunks/BwiJqY1Q.js";import{p as B,o as D,a as G,e as m,i as d,g as e,u as H,s as J,d as x,r as h,f as y,t as K}from"../chunks/v4vcYSfj.js";import{s as N}from"../chunks/CYs-NoBq.js";import{i as v,s as O,a as Q}from"../chunks/CQCzmFHa.js";import{g as b}from"../chunks/B5G5TIqL.js";import{r as w}from"../chunks/DYpmv-gh.js";import{p as R}from"../chunks/BkErw6yd.js";import{a as T,p as U}from"../chunks/C9wz-uxy.js";import{a as V}from"../chunks/D1wq1Jch.js";var W=c('<div class="text-center py-12 text-muted-foreground">Loading profile...</div>'),X=c('<div class="text-center py-12 text-red-500"> </div>'),Y=c('<div class="max-w-2xl mx-auto"><h1 class="text-2xl font-bold mb-6">Edit Server Profile</h1> <!></div>');function fa(S,C){B(C,!0);const E=()=>Q(R,"$page",F),[F,I]=O();let i=d(null),u=d(!0),l=d(null);const g=H(()=>parseInt(E().params.id??"0",10));D(async()=>{try{m(i,await T.get(e(g)),!0)}catch(a){m(l,a instanceof Error?a.message:"Failed to load profile",!0)}finally{m(u,!1)}});async function P(a){await U.update(e(g),a),await b(w("/profiles"))}async function $(){await b(w("/profiles"))}var f=Y(),k=J(x(f),2);{var L=a=>{var s=W();o(a,s)},M=a=>{var s=_(),j=y(s);{var q=t=>{var r=X(),n=x(r,!0);h(r),K(()=>N(n,e(l))),o(t,r)},z=t=>{var r=_(),n=y(r);{var A=p=>{V(p,{get profile(){return e(i)},onSubmit:P,onCancel:$})};v(n,p=>{e(i)&&p(A)},!0)}o(t,r)};v(j,t=>{e(l)?t(q):t(z,!1)},!0)}o(a,s)};v(k,a=>{e(u)?a(L):a(M,!1)})}h(f),o(S,f),G(),I()}export{fa as component};
