var re=Object.defineProperty;var U=r=>{throw TypeError(r)};var se=(r,e,s)=>e in r?re(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var Y=(r,e,s)=>se(r,typeof e!="symbol"?e+"":e,s),F=(r,e,s)=>e.has(r)||U("Cannot "+s);var n=(r,e,s)=>(F(r,e,"read from private field"),s?s.call(r):e.get(r)),_=(r,e,s)=>e.has(r)?U("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,s),C=(r,e,s,t)=>(F(r,e,"write to private field"),t?t.call(r,s):e.set(r,s),s);import{z as $,A as te,B as T,C as ne,D as j,F as z,h as D,G as ie,H as ae,I as ue,b as fe,c as ce,E as oe,J as le,K as de,L as pe,M as he,N as G,O as _e,P as ve,Q as H,R as be,S as Pe,T as Se,g,e as J,U as N,V as me,W as I,X as we,Y as Q,x as ge,Z as xe,_ as ye,$ as Oe,a0 as Ee,a1 as Z,a2 as q,a3 as Re,m as Ae,a4 as Te,a5 as De,a6 as Ie,a7 as w,a8 as V,a9 as W,aa as Me}from"./v4vcYSfj.js";var d,p,l,v,x,y,R;class Ne{constructor(e,s=!0){Y(this,"anchor");_(this,d,new Map);_(this,p,new Map);_(this,l,new Map);_(this,v,new Set);_(this,x,!0);_(this,y,()=>{var e=$;if(n(this,d).has(e)){var s=n(this,d).get(e),t=n(this,p).get(s);if(t)te(t),n(this,v).delete(s);else{var i=n(this,l).get(s);i&&(n(this,p).set(s,i.effect),n(this,l).delete(s),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),t=i.effect)}for(const[a,f]of n(this,d)){if(n(this,d).delete(a),a===e)break;const u=n(this,l).get(f);u&&(T(u.effect),n(this,l).delete(f))}for(const[a,f]of n(this,p)){if(a===s||n(this,v).has(a))continue;const u=()=>{if(Array.from(n(this,d).values()).includes(a)){var h=document.createDocumentFragment();ae(f,h),h.append(j()),n(this,l).set(a,{effect:f,fragment:h})}else T(f);n(this,v).delete(a),n(this,p).delete(a)};n(this,x)||!t?(n(this,v).add(a),ne(f,u,!1)):u()}}});_(this,R,e=>{n(this,d).delete(e);const s=Array.from(n(this,d).values());for(const[t,i]of n(this,l))s.includes(t)||(T(i.effect),n(this,l).delete(t))});this.anchor=e,C(this,x,s)}ensure(e,s){var t=$,i=ue();if(s&&!n(this,p).has(e)&&!n(this,l).has(e))if(i){var a=document.createDocumentFragment(),f=j();a.append(f),n(this,l).set(e,{effect:z(()=>s(f)),fragment:a})}else n(this,p).set(e,z(()=>s(this.anchor)));if(n(this,d).set(t,e),i){for(const[u,c]of n(this,p))u===e?t.skipped_effects.delete(c):t.skipped_effects.add(c);for(const[u,c]of n(this,l))u===e?t.skipped_effects.delete(c.effect):t.skipped_effects.add(c.effect);t.oncommit(n(this,y)),t.ondiscard(n(this,R))}else D&&(this.anchor=ie),n(this,y).call(this)}}d=new WeakMap,p=new WeakMap,l=new WeakMap,v=new WeakMap,x=new WeakMap,y=new WeakMap,R=new WeakMap;function $e(r,e,s=!1){D&&ce();var t=new Ne(r),i=s?oe:0;function a(f,u){if(D){const h=le(r)===de;if(f===h){var c=pe();he(c),t.anchor=c,G(!1),t.ensure(f,u),G(!0);return}}t.ensure(f,u)}fe(()=>{var f=!1;e((u,c=!0)=>{f=!0,a(c,u)}),f||a(!1,null)},i)}let E=!1,M=Symbol();function je(r,e,s){const t=s[e]??(s[e]={store:null,source:be(void 0),unsubscribe:H});if(t.store!==r&&!(M in s))if(t.unsubscribe(),t.store=r??null,r==null)t.source.v=void 0,t.unsubscribe=H;else{var i=!0;t.unsubscribe=Pe(r,a=>{i?t.source.v=a:J(t.source,a)}),i=!1}return r&&M in s?Se(r):g(t.source)}function ze(){const r={};function e(){_e(()=>{for(var s in r)r[s].unsubscribe();ve(r,M,{enumerable:!1,value:!0})})}return[r,e]}function Le(r){var e=E;try{return E=!1,[r(),E]}finally{E=e}}const Be={get(r,e){if(!r.exclude.includes(e))return r.props[e]},set(r,e){return!1},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function Ge(r,e,s){return new Proxy({props:r,exclude:e},Be)}const Ke={get(r,e){if(!r.exclude.includes(e))return g(r.version),e in r.special?r.special[e]():r.props[e]},set(r,e,s){if(!(e in r.special)){var t=N;try{q(r.parent_effect),r.special[e]=Ye({get[e](){return r.props[e]}},e,Q)}finally{q(t)}}return r.special[e](s),Z(r.version),!0},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},deleteProperty(r,e){return r.exclude.includes(e)||(r.exclude.push(e),Z(r.version)),!0},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function He(r,e){return new Proxy({props:r,exclude:e,special:{},version:me(0),parent_effect:N},Ke)}const Ue={get(r,e){let s=r.props.length;for(;s--;){let t=r.props[s];if(w(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t)return t[e]}},set(r,e,s){let t=r.props.length;for(;t--;){let i=r.props[t];w(i)&&(i=i());const a=I(i,e);if(a&&a.set)return a.set(s),!0}return!1},getOwnPropertyDescriptor(r,e){let s=r.props.length;for(;s--;){let t=r.props[s];if(w(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t){const i=I(t,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(r,e){if(e===V||e===W)return!1;for(let s of r.props)if(w(s)&&(s=s()),s!=null&&e in s)return!0;return!1},ownKeys(r){const e=[];for(let s of r.props)if(w(s)&&(s=s()),!!s){for(const t in s)e.includes(t)||e.push(t);for(const t of Object.getOwnPropertySymbols(s))e.includes(t)||e.push(t)}return e}};function Ze(...r){return new Proxy({props:r},Ue)}function Ye(r,e,s,t){var B;var i=!Te||(s&De)!==0,a=(s&Re)!==0,f=(s&Me)!==0,u=t,c=!0,h=()=>(c&&(c=!1,u=f?Ae(t):t),u),P;if(a){var X=V in r||W in r;P=((B=I(r,e))==null?void 0:B.set)??(X&&e in r?o=>r[e]=o:void 0)}var S,L=!1;a?[S,L]=Le(()=>r[e]):S=r[e],S===void 0&&t!==void 0&&(S=h(),P&&(i&&we(),P(S)));var b;if(i?b=()=>{var o=r[e];return o===void 0?h():(c=!0,o)}:b=()=>{var o=r[e];return o!==void 0&&(u=void 0),o===void 0?u:o},i&&(s&Q)===0)return b;if(P){var k=r.$$legacy;return(function(o,O){return arguments.length>0?((!i||!O||k||L)&&P(O?b():o),o):b()})}var A=!1,m=((s&Ie)!==0?ge:xe)(()=>(A=!1,b()));a&&g(m);var ee=N;return(function(o,O){if(arguments.length>0){const K=O?g(m):i&&a?ye(o):o;return J(m,K),A=!0,u!==void 0&&(u=K),o}return Oe&&A||(ee.f&Ee)!==0?m.v:g(m)})}export{Ne as B,je as a,Ze as b,$e as i,He as l,Ye as p,Ge as r,ze as s};
